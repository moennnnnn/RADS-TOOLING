/* ===========================
   Product Management — Modal
   Cleaned, deduped, minimal
=========================== */

/* Size modal and keep everything inside it */
#addProductModal .modal-content{
  width: min(920px, 96vw);
  max-height: 90vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;          /* prevents overlap with header/footer */
  box-sizing: border-box;
}

/* Make the form a vertical layout */
#addProductModal form{
  display: flex;
  flex-direction: column;
  height: 100%;
}

/* Body scrolls; footer never overflows */
#addProductModal .modal-body{
  flex: 1 1 auto;
  overflow: auto;
  padding: 0 24px 12px;      /* horizontal breathing room */
  box-sizing: border-box;
}

/* Footer: two centered buttons, same size */
#addProductModal .modal-actions{
  flex: 0 0 auto;
  background: #fff;
  border-top: 1px solid #e9eef3;
  padding: 12px 24px 18px;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 14px;
  box-sizing: border-box;
  position: static;          /* <-- no sticky; stays inside modal */
}

#addProductModal .modal-actions .btn-primary,
#addProductModal .modal-actions .btn-secondary{
  appearance: none;
  border: 0;
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 160px;
  height: 44px;
  line-height: 20px;
  font-weight: 600;
  text-align: center;
  cursor: pointer;
}

#addProductModal .modal-actions .btn-primary{
  background: #2f5e8d; /* your blue */
  color: #fff;
}
#addProductModal .modal-actions .btn-primary:hover{ filter: brightness(.95); }

#addProductModal .modal-actions .btn-secondary{
  background: #eceff3;
  color: #1f2d3d;
}
#addProductModal .modal-actions .btn-secondary:hover{
  background: #e2e7ee;
}

/* Two-column rows; stack on mobile */
#addProductModal .form-row{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px 20px;
}
@media (max-width: 820px){
  #addProductModal .form-row{ grid-template-columns: 1fr; }
}

/* Checkbox + text inline */
#addProductModal .customizable-inline,
#addProductModal .form-group > label.customizable-inline{
  display: inline-flex !important;
  align-items: center;
  gap: 8px;
  margin: 0;
  width: auto !important;
  white-space: nowrap;
  color: #333;
  font-weight: 500;
}

/* Preview image tidy */
#productImagePreview,
#editProductImagePreview{
  display: block;
  max-width: 240px;
  max-height: 180px;
  object-fit: cover;
  margin-top: 12px;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0,0,0,.08);
}

/* Dashed “drop zone” look for file inputs (optional) */
#addProductModal .pm-filebox{
  border: 2px dashed #d9e1ea;
  border-radius: 12px;
  padding: 10px;
  background: #fafcff;
}

#addProductModal .modal-content{
  width: min(920px, 96vw);
  max-height: 90vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  box-sizing: border-box;
}
#addProductModal form{
  display: flex;
  flex-direction: column;
  height: 100%;
}
#addProductModal .modal-body{
  flex: 1 1 auto;
  overflow: auto;
  padding: 0 24px 12px;
  box-sizing: border-box;
}
#addProductModal .modal-actions{
  background: #fff;
  border-top: 1px solid #e9eef3;
  padding: 12px 24px 18px;
  display: flex;
  justify-content: center;
  gap: 14px;
}
#addProductModal .modal-actions .btn-primary,
#addProductModal .modal-actions .btn-secondary{
  min-width: 160px;
  height: 44px;
  border-radius: 10px;
  font-weight: 600;
}
#addProductModal .modal-actions .btn-primary{ background:#2f5e8d; color:#fff; }
#addProductModal .modal-actions .btn-secondary{ background:#eceff3; color:#1f2d3d; }

#addProductModal .form-row{ display:grid; grid-template-columns:1fr 1fr; gap:16px 20px; }
@media (max-width: 820px){ #addProductModal .form-row{ grid-template-columns:1fr; } }

#addProductModal .customizable-inline{
  display: inline-flex; align-items: center; gap: 8px; white-space: nowrap;
}
.pm-filebox{ border:2px dashed #d9e1ea; border-radius:12px; padding:10px; background:#fafcff; }

/* ======= Add Product Modal – hard fixes ======= */

/* Put the overlay above the site header/sidebar */
#addProductModal.modal{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.45);
  display: none;                 /* .show will switch it on */
  align-items: center;
  justify-content: center;
  z-index: 10000;                /* higher than any site header */
  pointer-events: auto;
}

/* your code probably toggles .show */
#addProductModal.show{ display: flex; }

/* Keep all clicks inside modal */
#addProductModal .modal-content{
  position: relative;
  width: min(920px, 96vw);
  max-height: 90vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;              /* no spilling over footer/header */
  background: #fff;
  border-radius: 12px;
  pointer-events: auto;
  box-sizing: border-box;
}

/* DO NOT keep the header sticky — prevents overlap while scrolling */
#addProductModal .modal-header{
  position: static;
  top: auto;
  z-index: auto;
  background: #fff;
}

/* Scroll just the fields */
#addProductModal form{
  display: flex;
  flex-direction: column;
  height: 100%;
}
#addProductModal .modal-body{
  flex: 1 1 auto;
  overflow: auto;
  padding: 0 24px 12px;
  box-sizing: border-box;
}

/* Footer stays inside the modal and is fully clickable */
#addProductModal .modal-actions{
  background: #fff;
  border-top: 1px solid #e9eef3;
  padding: 12px 24px 18px;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 14px;
}

/* Uniform buttons */
#addProductModal .modal-actions .btn-primary,
#addProductModal .modal-actions .btn-secondary{
  min-width: 160px;
  height: 44px;
  border-radius: 10px;
  font-weight: 600;
  border: 0;
  cursor: pointer;
}
#addProductModal .modal-actions .btn-primary{ background:#2f5e8d; color:#fff; }
#addProductModal .modal-actions .btn-primary:hover{ filter:brightness(.95); }
#addProductModal .modal-actions .btn-secondary{ background:#eceff3; color:#1f2d3d; }
#addProductModal .modal-actions .btn-secondary:hover{ background:#e2e7ee; }

/* Two-column rows; stack on mobile */
#addProductModal .form-row{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px 20px;
}
@media (max-width: 820px){ #addProductModal .form-row{ grid-template-columns: 1fr; } }

/* Checkbox label inline & tight */
#addProductModal .customizable-inline{
  display: inline-flex !important;
  align-items: center;
  gap: 8px;
  white-space: nowrap;
}

/* Optional dashed file boxes */
#addProductModal .pm-filebox{
  border: 2px dashed #d9e1ea;
  border-radius: 12px;
  padding: 10px;
  background: #fafcff;
}

/* Preview image tidy */
#addProductModal #productImagePreview{
  display: block;
  max-width: 240px;
  max-height: 180px;
  object-fit: cover;
  margin-top: 12px;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0,0,0,.08);
}

.notification.info {
  border-top: 6px solid #0078d4;
  background: #121a24;
}
.notification.info .notification-title { color: #fff; }
.notification.info .notification-message { color: #d7eaff; }

/* ====== MODAL FIXES ====== */

.modal {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  justify-content: center;
  align-items: center;
  z-index: 1000;
  overflow-y: auto;
  padding: 40px 15px;
}

.modal-content {
  background: #fff;
  border-radius: 10px;
  padding: 25px 30px;
  max-width: 800px;
  width: 100%;
  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
  position: relative;
  display: flex;
  flex-direction: column;
  max-height: 90vh;          /* ✅ keeps modal inside screen */
  overflow-y: auto;          /* ✅ scrolls internally */
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid #ddd;
  padding-bottom: 10px;
  position: sticky;
  top: 0;
  background: #fff;
  z-index: 10;               /* ✅ header stays above scroll */
}

.modal-actions {
  display: flex;
  justify-content: flex-end;
  gap: 15px;
  padding-top: 20px;
  margin-top: 25px;
  border-top: 1px solid #ddd;
  background: #fff;
  position: sticky;          /* ✅ prevents overlap */
  bottom: 0;                 /* ✅ pins at bottom of scroll */
  z-index: 5;
}

.btn-primary,
.btn-secondary {
  padding: 10px 20px;
  border-radius: 6px;
  border: none;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s ease;
}

.btn-primary {
  background: #2d5c88;
  color: #fff;
}

.btn-primary:hover {
  background: #1e4366;
}

.btn-secondary {
  background: #e0e0e0;
  color: #333;
}

.btn-secondary:hover {
  background: #cfcfcf;
}

/* ===========================
   Product Management – CLEAN
   =========================== */

/* ---- Palette / tokens ---- */
:root{
  --pm-bg:#f6f9fc;
  --pm-card:#ffffff;
  --pm-border:#e7edf3;
  --pm-text:#233043;
  --pm-muted:#6c7a91;
  --pm-primary:#2e5f8a; /* system blue */
  --pm-primary-600:#285579;
  --pm-primary-50:#edf4fb;
  --pm-success:#37a169;
  --pm-danger:#d9534f;
  --pm-shadow: 0 10px 30px rgba(27, 46, 94, .08);
  --pm-radius:14px;
}

/* ---- Table shell ---- */
.pm-card{
  background:var(--pm-card);
  border:1px solid var(--pm-border);
  border-radius:var(--pm-radius);
  box-shadow:var(--pm-shadow);
}

/* badges */
.pm-badge{
  display:inline-block;
  padding:.25rem .6rem;
  border-radius:999px;
  font-size:.78rem;
  line-height:1;
  background:var(--pm-primary-50);
  color:var(--pm-primary);
  border:1px solid var(--pm-border);
  white-space:nowrap;
}

/* ========================================
   ✅ FIX: Product Table Badge Visibility
   ======================================== */

/* Override global .badge white text for product table */
.pm-table .badge,
.pm-table td .badge,
.product-table .badge {
  background: #3498db !important;  /* Blue background */
  color: white !important;         /* White text on blue */
  padding: 5px 14px !important;
  border-radius: 14px !important;
  font-weight: 500 !important;
  font-size: 0.85rem !important;
  display: inline-block !important;
}

/* Specific fix for Type column badges */
.pm-table td:nth-child(3) .badge,
.product-table td:nth-child(3) .badge,
.pm-table td:nth-child(3) span {
  background: #3498db !important;
  color: white !important;
  padding: 5px 14px !important;
}

/* Ensure regular table cell text is dark and visible */
.pm-table td,
.product-table td {
  color: #333 !important;
}

/* Customizable column text visibility */
.pm-table td:nth-child(6),
.product-table td:nth-child(6) {
  color: #333 !important;
  font-weight: 500 !important;
}

/* Status badges (green for released) */
.pm-table .badge-released,
.product-table .badge-released {
  background: #27ae60 !important;
  color: white !important;
}

/* table */
.pm-table{
  width:100%;
  border-collapse:separate;
  border-spacing:0;
}
.pm-table th,
.pm-table td{
  padding:16px 18px;
  vertical-align:middle;
}
.pm-table thead th{
  text-align:left;
  font-weight:700;
  color:var(--pm-muted);
  border-bottom:1px solid var(--pm-border);
  background:#fbfdff;
  position:sticky; top:0; z-index:1;
}
.pm-table tbody tr + tr td{ border-top:1px solid var(--pm-border); }
.pm-table .pm-img{
  width:54px; height:54px; border-radius:10px; object-fit:cover;
  border:1px solid var(--pm-border);
}

/* action icons */
.pm-actions{ display:flex; gap:16px; align-items:center; }
.pm-icon-btn{
  display:inline-flex; align-items:center; justify-content:center;
  width:32px; height:32px; border-radius:8px;
  color:var(--pm-primary); background:#f1f6fb; border:1px solid var(--pm-border);
  transition:all .15s ease;
}
.pm-icon-btn:hover{ background:#e7f0fb; transform:translateY(-1px); }

/* ======== MODAL ======== */
.modal{
  position:fixed; inset:0; display:none;
  align-items:center; justify-content:center;
  background:rgba(17,24,39,.55); backdrop-filter:saturate(120%) blur(2px);
  z-index:1000;
}
.modal.show{ display:flex; }

.modal-content{
  width:min(980px, 94vw);
  max-height:92vh;
  background:var(--pm-card);
  border-radius:18px;
  box-shadow:var(--pm-shadow);
  border:1px solid var(--pm-border);
  display:flex; flex-direction:column;
  overflow:hidden; /* keep header/footer pinned */
}

/* header stays visible */
.modal-header{
  display:flex; align-items:center; justify-content:space-between;
  gap:16px;
  padding:22px 26px;
  border-bottom:1px solid var(--pm-border);
  position:sticky; top:0; z-index:2; background:#fff;
}
.modal-header h2{ margin:0; font-size:1.35rem; color:var(--pm-text); }
.modal-header .close-modal{
  background:transparent; border:0; font-size:26px; line-height:1;
  color:var(--pm-muted); cursor:pointer; padding:4px 8px; border-radius:8px;
}
.modal-header .close-modal:hover{ background:#f4f7fb; color:var(--pm-text); }

/* the form is the scrollable body */
.modal-content form{
  display:flex; flex-direction:column;
  min-height:0; /* allow it to shrink inside modal-content */
  overflow:auto;
}
.modal-body{
  padding:22px 26px 10px; /* extra bottom space – footer has its own padding */
}

/* footer sticks to bottom, never overlaps body */
.modal-actions{
  display:flex; gap:14px; justify-content:flex-end;
  padding:16px 26px;
  border-top:1px solid var(--pm-border);
  background:linear-gradient(#fff, #fff); /* solid but ready for translucency */
  position:sticky; bottom:0; z-index:2;
}

/* buttons */
.btn-primary,.btn-secondary{
  border:1px solid var(--pm-border);
  border-radius:10px;
  padding:12px 18px;
  font-weight:700; cursor:pointer; transition:all .15s ease;
}
.btn-primary{
  background:var(--pm-primary); color:#fff; border-color:transparent;
  min-width:220px;
}
.btn-primary:hover{ background:var(--pm-primary-600); transform:translateY(-1px); }
.btn-secondary{ background:#eef2f7; color:#263244; }
.btn-secondary:hover{ background:#e4eaf2; transform:translateY(-1px); }

/* ======== FORM LAYOUT ======== */
.form-row{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:22px;
  margin-bottom:16px;
}
.form-group{ display:flex; flex-direction:column; gap:8px; }
.form-group label{ font-weight:600; color:#35465b; }
.form-group input[type="text"],
.form-group input[type="number"],
.form-group select,
.form-group textarea{
  width:100%; border:1px solid var(--pm-border); border-radius:10px;
  padding:12px 12px;
  font-size:0.98rem; color:var(--pm-text);
  background:#fff;
}
.form-group textarea{ min-height:110px; resize:vertical; }

/* single-column on small screens */
@media (max-width: 860px){
  .form-row{ grid-template-columns:1fr; }
  .btn-primary{ min-width:180px; }
}

/* checkbox inline */
.customizable-inline{ display:flex; align-items:center; gap:10px; margin-top:30px; }
.customizable-inline input{ width:18px; height:18px; }

/* file input boxes */
.pm-filebox{
  border:2px dashed var(--pm-border);
  border-radius:12px; padding:12px; background:#fbfdff;
}
.pm-filebox input[type="file"]{ width:100%; }

/* image/model previews */
#productImagePreview{
  display:block; max-width:260px; width:100%;
  margin-top:12px; border-radius:12px;
  border:1px solid var(--pm-border); box-shadow:var(--pm-shadow);
}
#productModelPreview{
  margin-top:10px; color:#219653; font-weight:600; word-break:break-all;
}

/* Note callout */
.pm-note{
  margin-top:16px;
  background:#e8f4fb;
  border:1px solid var(--pm-border);
  border-radius:12px;
  padding:14px 16px;
  color:#2e3b4f;
  font-size:.95rem;
}

/* ======== Notifications (make success header blue) ======== */
.notif{
  position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:1600;
}
.notif.show{ display:flex; }
.notif-card{
  min-width:300px; max-width:min(520px, 92vw);
  background:#0f1826; color:#e8eef6; border-radius:16px; overflow:hidden;
  box-shadow:var(--pm-shadow);
}
.notif-header{
  padding:12px 16px; font-weight:800; color:#fff;
  background:var(--pm-primary); /* <-- blue, not green */
}
.notif-body{ padding:18px 16px; }
.notif-body .ok-btn{
  margin-top:10px; padding:8px 14px; border-radius:8px; border:0;
  background:#49c9e5; color:#0f1826; font-weight:700; cursor:pointer;
}
.notif-body .ok-btn:hover{ filter:brightness(.95); }

/* ======== Misc spacing fixes ======== */
.pm-header-actions{ display:flex; gap:12px; justify-content:flex-end; }
.pm-top-buttons{ display:flex; gap:12px; }